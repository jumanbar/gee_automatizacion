library(tidyverse)
m <- read_csv("sampleClusters_2023-04-05.csv", col_types = cols(.geo = col_skip()))
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
mutate(Banda = toupper(Banda),
Clase = case_when(
cluster == 0 ~ "Agua",
cluster == 1 ~ "Nubes",
TRUE ~ "Sombras"
))
ml %>%
ggplot() +
aes(Clase, Rrs, fill=Banda) +
geom_boxplot() +
scale_fill_manual(values = c("#33cccc", "#d966ff", "#80bfff"))
ggsave("indices_x_clase_20230405.png", scale = 0.9, width = 20, height = 15, units = "cm")
ml %>%
ggplot() +
aes(Clase, Rrs, fill=Banda) +
geom_boxplot() +
xlab(NULL) +
scale_fill_manual(values = c("#33cccc", "#d966ff", "#80bfff"))
ggsave("indices_x_clase_20230405.png", scale = 0.9, width = 20, height = 15, units = "cm")
m <- read_csv("sampleClusters_2023-04-05.csv", col_types = cols(.geo = col_skip()))
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
mutate(Banda = toupper(Banda),
Clase = case_when(
cluster == 0 ~ "Agua",
cluster == 1 ~ "Nubes",
TRUE ~ "Sombras"
))
ml %>%
ggplot() +
aes(Clase, Rrs, fill=Banda) +
geom_boxplot() +
xlab(NULL) +
scale_fill_manual(values = c("#33cccc", "#d966ff", "#80bfff"))
ggsave("indices_x_clase_20230405.png", scale = 0.9, width = 20, height = 15, units = "cm")
m <- jsonlite::read_json("~/gee_automatizacion/muestra_agua_ndwi.json", simplifyVector = TRUE) %>%
as_tibble() %>%
mutate(p = row_number())
ml <- m %>%
pivot_longer(cols=-p, names_to = 'Band', values_to = 'Rrs') %>%
mutate(Band = case_when(
Band == "nd" ~ "NDWI_median",
Band == "nd_date" ~ "NDWI"
))
ml %>%
ggplot() +
aes(p, Rrs) +
geom_point(shape = 21, alpha = 0.8, fill = "darkgrey") +
facet_wrap(vars(Band)) +
xlab("Percentil (%)")
ml
ml %>%
ggplot() +
aes(p, Rrs) +
geom_point(shape = 21, alpha = 0.8, fill = Band, color = Band) +
facet_wrap(vars(Band)) +
xlab("Percentil (%)")
m <- jsonlite::read_json("~/gee_automatizacion/muestra_agua_ndwi.json", simplifyVector = TRUE) %>%
as_tibble() %>%
mutate(p = row_number())
ml <- m %>%
pivot_longer(cols=-p, names_to = 'Band', values_to = 'Rrs') %>%
mutate(Band = case_when(
Band == "nd" ~ "NDWI_median",
Band == "nd_date" ~ "NDWI"
))
ml %>%
ggplot() +
aes(p, Rrs) +
geom_point(shape = 21, alpha = 0.8, fill = Band, color = Band) +
# facet_wrap(vars(Band)) +
xlab("Percentil (%)")
ml
ml %>%
ggplot() +
aes(p, Rrs, fill = Band, color = Band) +
geom_point(shape = 21, alpha = 0.8) +
# facet_wrap(vars(Band)) +
xlab("Percentil (%)")
ml %>%
ggplot() +
aes(p, Rrs, fill = Band, color = Band) +
geom_point(shape = 21, alpha = 0.8) +
# facet_wrap(vars(Band)) +
xlab("Percentil (%)") +
scale_x_continuous(breaks = c(0, .2, .4, .6, .8, 1))
ml %>%
ggplot() +
aes(p, Rrs, fill = Band, color = Band) +
geom_point(shape = 21, alpha = 0.8) +
# facet_wrap(vars(Band)) +
xlab("Percentil (%)") +
scale_x_continuous(breaks = c(0, 20, 40, 60, 80, 100))
fecha_muestra = "2023-04-20" # Agua
m <- jsonlite::read_json("~/gee_automatizacion/features_test.json", simplifyVector = TRUE) %>%
as_tibble() %>%
mutate(p = row_number())
ml <- m %>%
pivot_longer(cols=-p, names_to = 'Band', values_to = 'Rrs') %>%
mutate(Band = toupper(Band))
ml %>%
ggplot() +
aes(p, Rrs) +
geom_point(shape = 21, alpha = 0.8, fill = "darkgrey") +
facet_wrap(vars(Band)) +
xlab("Percentil (%)")
ggsave(paste0("acum_indices_agua_", fecha_muestra, ".png", scale = 0.9, width = 20, height = 15, units = "cm")
m <- jsonlite::read_json("~/gee_automatizacion/muestra_agua_ndwi.json"), simplifyVector = TRUE) %>%
as_tibble() %>%
mutate(p = row_number())
ggsave(paste0("acum_indices_agua_", fecha_muestra, ".png"), scale = 0.9, width = 20, height = 15, units = "cm")
m <- read_csv(paste0("sampleClusters_", fecha_muestra, ".csv"), col_types = cols(.geo = col_skip()))
m
# fecha_muestra = "2023-04-05" # Agua / Nubes / Sombras
fecha_muestra = "2023-04-20" # Agua
m <- read_csv(paste0("sampleClusters_", fecha_muestra, ".csv"), col_types = cols(.geo = col_skip()))
m
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
mutate(Banda = toupper(Banda),
Clase = case_when(
cluster == 0 ~ "Agua",
cluster == 1 ~ "Nubes",
TRUE ~ "Sombras"
))
ml %>%
ggplot() +
aes(Clase, Rrs, fill=Banda) +
geom_boxplot() +
xlab(NULL) +
scale_fill_manual(values = c("#33cccc", "#d966ff", "#80bfff"))
ggsave(paste0("indices_x_clase_", fecha_muestra, ".png"), scale = 0.9, width = 20, height = 15, units = "cm")
# fecha_muestra = "2023-04-05" # Agua / Nubes / Sombras
# fecha_muestra = "2023-04-20" # Agua / Floraciones
fecha_muestra = '2023-04-08' # Agua / Nubes / Sombras / Floraciones
m <- read_csv(paste0("sampleClusters_", fecha_muestra, ".csv"), col_types = cols(.geo = col_skip()))
m
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Agua", cluster == 1 ~ "Nubes", TRUE ~ "Sombras"))
mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Nubes-Floracion", cluster == 1 ~ "Sombras", TRUE ~ "Agua"))
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Agua", cluster == 1 ~ "Nubes", TRUE ~ "Sombras"))
mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Nubes-Floracion", cluster == 1 ~ "Sombras", TRUE ~ "Agua")) # 2023-04-08
ml %>%
ggplot() +
aes(Clase, Rrs, fill=Banda) +
geom_boxplot() +
xlab(NULL) +
scale_fill_manual(values = c("#33cccc", "#d966ff", "#80bfff"))
m <- read_csv(paste0("sampleClusters_", fecha_muestra, ".csv"), col_types = cols(.geo = col_skip()))
# fecha_muestra = "2023-04-05" # Agua / Nubes / Sombras
# fecha_muestra = "2023-04-20" # Agua / Floraciones
fecha_muestra = '2023-04-08' # Agua / Nubes / Sombras / Floraciones
m <- read_csv(paste0("sampleClusters_", fecha_muestra, ".csv"), col_types = cols(.geo = col_skip()))
m
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Agua", cluster == 1 ~ "Nubes", TRUE ~ "Sombras"))
mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Nubes-Floracion", cluster == 1 ~ "Sombras", TRUE ~ "Agua")) # 2023-04-08
ml %>%
ggplot() +
aes(Clase, Rrs, fill=Banda) +
geom_boxplot() +
xlab(NULL) +
scale_fill_manual(values = c("#33cccc", "#d966ff", "#80bfff"))
ggsave(paste0("indices_x_clase_", fecha_muestra, ".png"), scale = 0.9, width = 20, height = 15, units = "cm")
# fecha_muestra = "2023-04-05" # Agua / Nubes / Sombras
# fecha_muestra = "2023-04-20" # Agua / Floraciones
fecha_muestra = '2023-04-08' # Agua / Nubes / Sombras / Floraciones
m <- read_csv(paste0("sampleClusters_", fecha_muestra, ".csv"), col_types = cols(.geo = col_skip()))
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Agua", cluster == 1 ~ "Nubes", TRUE ~ "Sombras"))
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Nubes-Floracion", cluster == 1 ~ "Sombras", TRUE ~ "Agua")) # 2023-04-08
mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Floracion", cluster == 1 ~ "Sombras", TRUE ~ "Agua")) # 2023-04-08
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Agua", cluster == 1 ~ "Nubes", TRUE ~ "Sombras"))
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Nubes-Floracion", cluster == 1 ~ "Sombras", TRUE ~ "Agua")) # 2023-04-08
mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Floracion", cluster == 1 ~ "Sombras", cluster == 2 ~ "Agua1", TRUE ~ "Agua2")) # 2023-04-08
ml %>%
ggplot() +
aes(Clase, Rrs, fill=Banda) +
geom_boxplot() +
xlab(NULL) +
scale_fill_manual(values = c("#33cccc", "#d966ff", "#80bfff"))
ggsave(paste0("indices_x_clase_", fecha_muestra, "b.png"), scale = 0.9, width = 20, height = 15, units = "cm")
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Agua", cluster == 1 ~ "Nubes", TRUE ~ "Sombras"))
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Nubes-Floracion", cluster == 1 ~ "Sombras", TRUE ~ "Agua")) # 2023-04-08
mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Nubes-Floracion", cluster == 1 ~ "Sombras", cluster == 2 ~ "Agua1", TRUE ~ "Agua2")) # 2023-04-08
ml %>%
ggplot() +
aes(Clase, Rrs, fill=Banda) +
geom_boxplot() +
xlab(NULL) +
scale_fill_manual(values = c("#33cccc", "#d966ff", "#80bfff"))
ggsave(paste0("indices_x_clase_", fecha_muestra, "b.png"), scale = 0.9, width = 20, height = 15, units = "cm")
d <- data.frame(clase = c("sombra", "agua"), B2 = c(754, 935), B3 = c(486, 792), B4 = c(309, 636), B8 = c(170, 244))
pivot_longer(d, cols = clase)
dl <- pivot_longer(d, cols = clase, names_to = "Band", values_to = "Rrs")
dl
d
dl <- pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs")
dl
ggplot(dl) +
aes(clase, Band) +
geom_point()
ggplot(dl) +
aes(clase, Rrs, color = Band) +
geom_point()
d
d %>% mutate(x = (B4 - B8) / (B4 + B8),
y = (B2 - B3) / (B2 + B3))
d %>% mutate(x = (B4 - B8) / (B4 + B8),
y = (B2 - B3) / (B2 + B3)) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point()
d %>% mutate(x = (B4 - B8) / (B4 + B8),
y = (B2 - B3) / (B2 + B3)) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs")
d %>% mutate(x = (B4 - B8) / (B4 + B8),
y = (B2 - B3) / (B2 + B3)) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
filter(Band %in% c("x", "y"))
d %>% mutate(x = (B4 - B8) / (B4 + B8),
y = (B2 - B3) / (B2 + B3)) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
filter(Band %in% c("x", "y")) %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point()
ggplot(dl) +
aes(clase, Rrs, color = Band) +
geom_point(size = 3)
ggplot(dl) +
aes(clase, Rrs, color = Band) +
geom_point(size = 5)
ggplot(dl) +
aes(clase, Rrs, color = Band) +
geom_point(size = 5) +
scale_color_manual(values = c("blue", "green", "red", "orange"))
d <- data.frame(
clase = c("sombra", "agua", "floracion"),
B2 = c(754, 935, 986),
B3 = c(486, 792, 1074),
B4 = c(309, 636, 519),
B8 = c(170, 244, 4452)
)
dl <- pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs")
ggplot(dl) +
aes(clase, Rrs, color = Band) +
geom_point(size = 5) +
scale_color_manual(values = c("blue", "green", "red", "orange"))
d <- data.frame(
clase = c("sombra", "agua", "floracion", "nube"),
B2 = c(754, 935, 986, 3800),
B3 = c(486, 792, 1074, 3742),
B4 = c(309, 636, 519, 4037),
B8 = c(170, 244, 4452, 4415)
)
dl <- pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs")
ggplot(dl) +
aes(clase, Rrs, color = Band) +
geom_point(size = 5) +
scale_color_manual(values = c("blue", "green", "red", "orange"))
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3)
NDBR = (B2 - B4) / (B2 + B4)
) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
filter(Band %in% c("x", "y")) %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point()
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3)
NDBR = (B2 - B4) / (B2 + B4)
) %>%
select(- c(B2, B3, B4, B8)) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
filter(Band %in% c("x", "y")) %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point()
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3)
NDBR = (B2 - B4) / (B2 + B4)
) %>%
select(- c(B2, B3, B4, B8)) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point()
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3)
NDBR = (B2 - B4) / (B2 + B4)
) %>%
dplyr::select(- c(B2, B3, B4, B8)) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point()
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3)
NDBR = (B2 - B4) / (B2 + B4)
) %>%
dplyr::select(-starts_with("B")) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point()
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3)
NDBR = (B2 - B4) / (B2 + B4)
) %>%
dplyr::select(B8)
d <- data.frame(
clase = c("sombra", "agua", "floracion", "nube"),
B2 = c(754, 935, 986, 3800),
B3 = c(486, 792, 1074, 3742),
B4 = c(309, 636, 519, 4037),
B8 = c(170, 244, 4452, 4415)
)
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3)
NDBR = (B2 - B4) / (B2 + B4)
) %>%
dplyr::select(B8)
d %>% transmute(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4)
) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point()
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4)
) %>%
select(-starts_with("B")) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point()
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4)
) %>%
select(-starts_with("B")) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point(size = 5)
ggplot(dl) +
aes(clase, Rrs, color = Band) +
geom_point(size = 5) +
scale_color_manual(values = c("blue", "green", "red", "orange"))
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8)
) %>%
select(-starts_with("B")) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point(size = 5)
d <- data.frame(
clase = c("sombra", "agua", "floracion", "nube"),
B2 = c(754, 935, 986, 3800),
B3 = c(486, 792, 1074, 3742),
B4 = c(309, 636, 519, 4037),
B8 = c(170, 244, 4452, 4415)
)
dl <- pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs")
ggplot(dl) +
aes(clase, Rrs, color = Band) +
geom_point(size = 5) +
scale_color_manual(values = c("blue", "green", "red", "orange"))
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8),
x = 1 / NDVI
) %>%
select(-starts_with("B")) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point(size = 5)
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8),
NDVI_inv = 1 / NDVI
) %>%
select(-starts_with("B")) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point(size = 5)
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8),
NDVI_inv = 1 / NDVI
) %>%
select(-starts_with("B")) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point(size = 5)
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8),
NDVI_inv = 1 / NDVI
)
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8),
NDVI_inv = 1 / NDVI
) %>%
select(-starts_with("B"))
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8),
NDVI_inv = 1 / NDVI
) %>%
select(-starts_with("B")) %>%
pivot_longer(d, cols = -clase, names_to = "Band", values_to = "Rrs")
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8),
NDVI_inv = 1 / NDVI
) %>%
select(-starts_with("B")) %>%
pivot_longer(cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point(size = 5)
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8),
NDVI_inv = abs(1 / NDVI)
) %>%
select(-starts_with("B")) %>%
pivot_longer(cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point(size = 5)
d %>% mutate(
NDVI = (B8 - B4) / (B8 + B4),
NDBG = (B2 - B3) / (B2 + B3),
NDBR = (B2 - B4) / (B2 + B4),
NDWI = (B3 - B8) / (B3 + B8)
# NDVI_inv = abs(1 / NDVI)
) %>%
select(-starts_with("B")) %>%
pivot_longer(cols = -clase, names_to = "Band", values_to = "Rrs") %>%
ggplot() +
aes(clase, Rrs, color = Band) +
geom_point(size = 5)
# fecha_muestra = "2023-04-05" # Agua / Nubes / Sombras
# fecha_muestra = "2023-04-20" # Agua / Floraciones
fecha_muestra = '2023-04-08' # Agua / Nubes / Sombras / Floraciones
m <- read_csv(paste0("sampleClusters_", fecha_muestra, ".csv"), col_types = cols(.geo = col_skip()))
ml <- m[-1] %>%
pivot_longer(col=-cluster, names_to = "Banda", values_to = "Rrs") %>%
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Agua", cluster == 1 ~ "Nubes", TRUE ~ "Sombras"))
# mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Nubes-Floracion", cluster == 1 ~ "Sombras", TRUE ~ "Agua")) # 2023-04-08
mutate(Banda = toupper(Banda), Clase = case_when(cluster == 0 ~ "Nubes-Floracion", cluster == 1 ~ "Sombras", cluster == 2 ~ "Agua1", TRUE ~ "Agua2")) # 2023-04-08
ml %>%
ggplot() +
aes(Clase, Rrs, fill=Banda) +
geom_boxplot() +
xlab(NULL) +
scale_fill_manual(values = c("#33cccc", "#d966ff", "#80bfff"))
